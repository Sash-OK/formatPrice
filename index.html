<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible"
          content="ie=edge">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
             <title>Test</title>
</head>
<body>

<div style="margin: 200px auto; width: 70%;">
    <input type="text" value="1111.11" style="font-size: 30px;" class="input" data-input-format="8,5">
    <input type="text" value="2222.22" style="font-size: 30px;" class="input js-inp">
    <input type="text" value="3333.33" style="font-size: 30px;" class="input">
    <input type="text" value="4444.44" style="font-size: 30px;" class="input">
</div>

<script>

    (function ( $ ) {

        $.fn.keyInputFormat = function( options ) {

            var settings = $.extend({
                    valLen: 12,
                    delim: '.',
                    decimal: 2
                }, options),

                isDelim = function (text, delim) {
                    return new RegExp('\\' + delim).test(text);
                },

                isMultiZero = function (text) {

                    if (/^0+/.test(text)) {

                        if (/(^0+)([1-9])/.test(text)) {
                            text = text.replace(/(^0+)/, '');
                        } else {
                            text = text.replace(/(^0+)/, '0');
                        }
                    }

                    return text;
                },

                getChar = function (e) {

                    if (e.which == null) { // IE
                        if (e.keyCode < 32) return null; // спец. символ
                        return String.fromCharCode(e.keyCode)
                    }

                    if (e.which != 0 && e.charCode != 0) { // все кроме IE
                        if (e.which < 32) return null; // спец. символ
                        return String.fromCharCode(e.which); // остальные
                    }

                    return null; // спец. символ
                },

                insertChar = function (input, char) {
                    var val = input.value,
                        cursorPos,
                        endPos,
                        ieRange,
                        ieTextInputRange,
                        iePrevRange,
                        ieBookmark;

                    if (input.createTextRange) {

                        ieRange = document.selection.createRange();
                        ieTextInputRange = input.createTextRange();
                        iePrevRange = input.createTextRange();
                        ieBookmark = ieRange.getBookmark();
                        ieTextInputRange.moveToBookmark(ieBookmark);
                        iePrevRange.setEndPoint('EndToStart', ieTextInputRange);
                        cursorPos = iePrevRange.text.length;
                        endPos = cursorPos + ieRange.text.length;
                        input.value = val.slice(0, cursorPos) + char + val.slice(endPos);
                        cursorPos++;

                        // Move the caret
                        ieTextInputRange = input.createTextRange();
                        ieTextInputRange.collapse(true);
                        ieTextInputRange.move('character', cursorPos - (input.value.slice(0, cursorPos).split('\r\n').length - 1));
                        ieTextInputRange.select();

                    } else {

                        cursorPos = input.selectionStart;
                        endPos = input.selectionEnd;

                        input.value = val.slice(0, cursorPos) + char + val.slice(endPos);
                        input.selectionStart = input.selectionEnd = cursorPos + 1;
                    }
                };

            // Greenify the collection based on the settings variable.
            return this.each(function () {
                var htmlData = $(this).data('inputFormat'),
                    data = htmlData ? String(htmlData).split('') : false,
                    valLen = data ? data[0] : parseInt(settings.valLen),
                    decimal = data ? data[2] : parseInt(settings.decimal),
                    delim = data ? data[1] : settings.delim;

                this.onblur = function () {
                    var val = this.value,
                        reg = new RegExp('^\\' + delim),
                        zeroDec = '',
                        floatVal;

                    if (isDelim(val, delim)) {

                        if (reg.test(val)) {
                            val = '0' + val;
                        }

                        floatVal = val.split(delim);

                        floatVal[0] = isMultiZero(floatVal[0]);

                        if (!floatVal[1].length) {

                            for(var i=0; i < decimal; i++) {
                                zeroDec += '0';
                            }

                            this.value = floatVal[0] + delim + zeroDec;
                        } else if (floatVal[1].length < decimal) {

                            for(var i=0; i < decimal - floatVal[1].length; i++) {
                                zeroDec += '0';
                            }

                            this.value = floatVal[0] + delim + floatVal[1] + zeroDec;
                        } else {

                            this.value = floatVal[0] + delim + floatVal[1];
                        }

                    } else if(val === '') {

                        for(var i=0; i < decimal; i++) {
                            zeroDec += '0';
                        }

                        this.value = '0' + delim + zeroDec;
                    } else {

                        for(var i=0; i < decimal; i++) {
                            zeroDec += '0';
                        }

                        val = isMultiZero(val);
                        this.value = val + delim + zeroDec;
                    }
                };

                this.onpaste = function (e) {
                    var data = e ? e.clipboardData : window.clipboardData,
                        textVal = data.getData('Text'),
                        reg = new RegExp('\\d{1,'+ valLen +'}(\\' + delim + '\\d{1,'+ decimal +'})?'),
                        match;

                    textVal = textVal.replace(/[^\d.,]/g, '');
                    textVal = textVal.replace(/[,+\.+]/g, delim);
                    match = textVal.match(reg);

                    if (match) {

                        if (isDelim(match[0], delim)) {
                            match = match[0].split(delim);
                        }

                        match[0] = isMultiZero(match[0]);

                        this.value = match[1] ? match[0] + delim + match[1] : match[0];
                        return false;
                    } else {
                        this.value = '0' + delim + '00';
                        return false;
                    }
                };

                this.onkeyup = function () {
                    var val = this.value;

                    if (!isDelim(val, delim) && val.length > valLen) {

                        val = val.slice(0, valLen - val.length);
                        this.value = val;
                    }
                };

                this.onkeypress = function(e) {
                    var e = e || event,
                        val = this.value,
                        char = getChar(e),
                        iePos = {},
                        cursorPos;

                    // Определение положения курсора
                    if (this.createTextRange) {
                        // IE < 9
                        iePos.ieRange = document.selection.createRange();
                        iePos.ieTextInputRange = this.createTextRange();
                        iePos.iePrevRange = this.createTextRange();
                        iePos.ieBookmark = iePos.ieRange.getBookmark();
                        iePos.ieTextInputRange.moveToBookmark(iePos.ieBookmark);
                        iePos.iePrevRange.setEndPoint('EndToStart', iePos.ieTextInputRange);

                        cursorPos = iePos.iePrevRange.text.length;
                    } else {
                        // Остальные браузеры
                        cursorPos = this.selectionStart;
                    }

                    if (e.ctrlKey || e.altKey) return;

                    if (char === null) return;

                    if(isDelim(val, delim)) {

                        val = val.split(delim);

                        if(val[0].length >= cursorPos && val[0].length > valLen - 1) {
                            return false;
                        }

                        if (cursorPos > val[0].length && val[1].length > decimal - 1) {
                            return false;
                        }
                    } else {

                        if (val.length > valLen - 1 && !(char === ',' || char === '.')) {

                            return false;
                        }

                        if ((char === ',' || char === '.') && (cursorPos + decimal >= val.length)) {

                            insertChar(this, delim);
                            return false;
                        }
                    }

                    if (char < '0' || char > '9') {
                        return false;
                    }
                };
            });

        };

    }( jQuery ));


    $(document).ready(function () {

        $('.input').keyInputFormat({
            valLen: 12,
            delim: '.',
            decimal: 2
        });
    });


</script>

</body>
</html>